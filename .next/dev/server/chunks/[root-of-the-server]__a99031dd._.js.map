{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/choiminsuk/Desktop/k-beauty-pass-partners/app/api/consultation/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\n\nexport async function POST(request: Request) {\n  try {\n    const body = await request.json();\n    const { hospitalName, managerName, contact } = body;\n    \n    const slackWebhookUrl = process.env.SLACK_WEBHOOK_URL;\n\n    if (!slackWebhookUrl) {\n      return NextResponse.json(\n        { message: 'Slack webhook URL not configured' },\n        { status: 500 }\n      );\n    }\n\n    const payload = {\n      text: `üè• *Ïã†Í∑ú ÏûÖÏ†ê ÏÉÅÎã¥ Ïã†Ï≤≠Ïù¥ Ï†ëÏàòÎêòÏóàÏäµÎãàÎã§!*`,\n      blocks: [\n        {\n          type: \"header\",\n          text: {\n            type: \"plain_text\",\n            text: \"üè• Ïã†Í∑ú ÏûÖÏ†ê ÏÉÅÎã¥ Ïã†Ï≤≠\",\n            emoji: true\n          }\n        },\n        {\n          type: \"section\",\n          fields: [\n            {\n              type: \"mrkdwn\",\n              text: `*Î≥ëÏõêÎ™Ö:*\\n${hospitalName}`\n            },\n            {\n              type: \"mrkdwn\",\n              text: `*Îã¥ÎãπÏûê:*\\n${managerName}`\n            }\n          ]\n        },\n        {\n          type: \"section\",\n          fields: [\n            {\n              type: \"mrkdwn\",\n              text: `*Ïó∞ÎùΩÏ≤ò:*\\n${contact}`\n            },\n            {\n              type: \"mrkdwn\",\n              text: `*Ï†ëÏàò ÏãúÍ∞Ñ:*\\n${new Date().toLocaleString('ko-KR', { timeZone: 'Asia/Seoul' })}`\n            }\n          ]\n        },\n        {\n            type: \"divider\"\n        }\n      ]\n    };\n\n    const response = await fetch(slackWebhookUrl, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload),\n    });\n\n    if (!response.ok) {\n      throw new Error(`Slack API error: ${response.statusText}`);\n    }\n\n    return NextResponse.json({ success: true });\n  } catch (error) {\n    console.error('Slack notification failed:', error);\n    return NextResponse.json(\n      { message: 'Failed to send Slack notification' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG;QAE/C,MAAM,kBAAkB,QAAQ,GAAG,CAAC,iBAAiB;QAErD,IAAI,CAAC,iBAAiB;YACpB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;YAAmC,GAC9C;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,UAAU;YACd,MAAM,CAAC,0BAA0B,CAAC;YAClC,QAAQ;gBACN;oBACE,MAAM;oBACN,MAAM;wBACJ,MAAM;wBACN,MAAM;wBACN,OAAO;oBACT;gBACF;gBACA;oBACE,MAAM;oBACN,QAAQ;wBACN;4BACE,MAAM;4BACN,MAAM,CAAC,QAAQ,EAAE,cAAc;wBACjC;wBACA;4BACE,MAAM;4BACN,MAAM,CAAC,QAAQ,EAAE,aAAa;wBAChC;qBACD;gBACH;gBACA;oBACE,MAAM;oBACN,QAAQ;wBACN;4BACE,MAAM;4BACN,MAAM,CAAC,QAAQ,EAAE,SAAS;wBAC5B;wBACA;4BACE,MAAM;4BACN,MAAM,CAAC,UAAU,EAAE,IAAI,OAAO,cAAc,CAAC,SAAS;gCAAE,UAAU;4BAAa,IAAI;wBACrF;qBACD;gBACH;gBACA;oBACI,MAAM;gBACV;aACD;QACH;QAEA,MAAM,WAAW,MAAM,MAAM,iBAAiB;YAC5C,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM,CAAC,iBAAiB,EAAE,SAAS,UAAU,EAAE;QAC3D;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;QAAoC,GAC/C;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}